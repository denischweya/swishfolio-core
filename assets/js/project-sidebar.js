(()=>{"use strict";const e=window.wp.i18n,o=window.wp.plugins,s=window.wp.editPost,t=window.wp.data,r=window.wp.components,l=window.wp.coreData,n=window.wp.date,i=window.ReactJSXRuntime,a=[{label:(0,e.__)("In Progress","swishfolio-core"),value:"in-progress"},{label:(0,e.__)("Completed","swishfolio-core"),value:"completed"},{label:(0,e.__)("Planned","swishfolio-core"),value:"planned"},{label:(0,e.__)("On Hold","swishfolio-core"),value:"on-hold"}];(0,o.registerPlugin)("sfcore-project-sidebar",{render:()=>{const o=(0,t.useSelect)(e=>e("core/editor").getCurrentPostType(),[]);if("sfcore_project"!==o)return null;const[c,_]=(0,l.useEntityProp)("postType",o,"meta"),p=c?._sfcore_completion_date||"",d=c?._sfcore_project_status||"in-progress",w=c?._sfcore_skills||[],f=c?._sfcore_project_url||"",u=c?._sfcore_client_name||"",h=(e,o)=>{_({...c,[e]:o})},m=Array.isArray(w)?w.join(", "):"",j=o=>{if(!o)return(0,e.__)("Select date","swishfolio-core");try{return(0,n.format)("F j, Y",o)}catch(e){return o}};return(0,i.jsxs)(s.PluginDocumentSettingPanel,{name:"sfcore-project-details",title:(0,e.__)("Project Details","swishfolio-core"),className:"sfcore-project-sidebar",children:[(0,i.jsx)(r.SelectControl,{label:(0,e.__)("Status","swishfolio-core"),value:d,options:a,onChange:e=>h("_sfcore_project_status",e)}),(0,i.jsxs)("div",{className:"sfcore-date-field",children:[(0,i.jsx)("label",{className:"components-base-control__label",children:(0,e.__)("Completion Date","swishfolio-core")}),(0,i.jsx)(r.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:e,onToggle:o})=>(0,i.jsx)(r.Button,{variant:"secondary",onClick:o,"aria-expanded":e,style:{width:"100%",justifyContent:"flex-start"},children:j(p)}),renderContent:({onClose:o})=>(0,i.jsxs)("div",{style:{padding:"8px"},children:[(0,i.jsx)(r.DatePicker,{currentDate:p||void 0,onChange:e=>{const s=e?e.split("T")[0]:"";h("_sfcore_completion_date",s),o()}}),p&&(0,i.jsx)(r.Button,{variant:"link",isDestructive:!0,onClick:()=>{h("_sfcore_completion_date",""),o()},style:{marginTop:"8px"},children:(0,e.__)("Clear date","swishfolio-core")})]})})]}),(0,i.jsx)(r.TextControl,{label:(0,e.__)("Client Name","swishfolio-core"),value:u,onChange:e=>h("_sfcore_client_name",e)}),(0,i.jsx)(r.TextControl,{label:(0,e.__)("Project URL","swishfolio-core"),value:f,onChange:e=>h("_sfcore_project_url",e),type:"url",placeholder:"https://"}),(0,i.jsx)(r.TextareaControl,{label:(0,e.__)("Skills / Technologies","swishfolio-core"),value:m,onChange:e=>{const o=e.split(",").map(e=>e.trim()).filter(e=>e.length>0);h("_sfcore_skills",o)},help:(0,e.__)("Comma-separated list (e.g., React, PHP, WordPress)","swishfolio-core"),rows:3})]})},icon:"portfolio"})})();