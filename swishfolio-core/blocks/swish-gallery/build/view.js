document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".sfcore-swish-gallery").forEach(t=>{const e=t.classList.contains("sfcore-swish-gallery--layout-carousel"),s="true"===t.dataset.lightbox;e&&function(t){const e=t.querySelector(".sfcore-swish-gallery__container"),s=t.querySelectorAll(".sfcore-swish-gallery__item"),o=t.querySelector(".sfcore-swish-gallery__prev"),l=t.querySelector(".sfcore-swish-gallery__next"),n=t.querySelectorAll(".sfcore-swish-gallery__dot");if(s.length<=1)return;let r=0;const a=s.length,c="true"===t.dataset.autoplay,i=parseInt(t.dataset.autoplaySpeed,10)||5e3;let d=null;const g=t=>{r=t,r<0&&(r=a-1),r>=a&&(r=0),e.style.transform=`translateX(-${100*r}%)`,n.forEach((t,e)=>{t.classList.toggle("is-active",e===r)})},h=()=>{g(r+1)},u=()=>{g(r-1)},y=()=>{c&&!d&&(d=setInterval(h,i))},f=()=>{d&&(clearInterval(d),d=null)};l&&l.addEventListener("click",()=>{h(),f(),y()}),o&&o.addEventListener("click",()=>{u(),f(),y()}),n.forEach(t=>{t.addEventListener("click",()=>{const e=parseInt(t.dataset.index,10);g(e),f(),y()})}),t.addEventListener("mouseenter",f),t.addEventListener("mouseleave",y);let _=0,v=0;e.addEventListener("touchstart",t=>{_=t.changedTouches[0].screenX,f()},{passive:!0}),e.addEventListener("touchend",t=>{v=t.changedTouches[0].screenX;const e=_-v;Math.abs(e)>50&&(e>0?h():u()),y()},{passive:!0}),t.addEventListener("keydown",t=>{"ArrowLeft"===t.key?(u(),f(),y()):"ArrowRight"===t.key&&(h(),f(),y())}),y()}(t),s&&function(t){const e=t.querySelectorAll(".sfcore-swish-gallery__lightbox-trigger"),s=t.querySelectorAll(".sfcore-swish-gallery__image"),o="true"===t.dataset.lightboxCaption,l=Array.from(s).map(t=>({url:t.dataset.fullUrl||t.src,alt:t.alt||"",caption:t.closest(".sfcore-swish-gallery__item")?.querySelector(".sfcore-swish-gallery__caption")?.textContent||""}));let n=document.querySelector(".sfcore-lightbox");n||(n=function(){const t=document.createElement("div");return t.className="sfcore-lightbox",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-label","Image lightbox"),t.innerHTML='\n\t\t\t<div class="sfcore-lightbox__content">\n\t\t\t\t<button type="button" class="sfcore-lightbox__close" aria-label="Close lightbox">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n\t\t\t\t\t\t<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<button type="button" class="sfcore-lightbox__prev" aria-label="Previous image">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n\t\t\t\t\t\t<path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<div class="sfcore-lightbox__image-container">\n\t\t\t\t\t<img class="sfcore-lightbox__image" src="" alt="" tabindex="0" />\n\t\t\t\t</div>\n\t\t\t\t<button type="button" class="sfcore-lightbox__next" aria-label="Next image">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n\t\t\t\t\t\t<path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<div class="sfcore-lightbox__footer">\n\t\t\t\t\t<span class="sfcore-lightbox__counter"></span>\n\t\t\t\t\t<figcaption class="sfcore-lightbox__caption"></figcaption>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',t}(),document.body.appendChild(n));const r=n.querySelector(".sfcore-lightbox__image"),a=n.querySelector(".sfcore-lightbox__caption"),c=n.querySelector(".sfcore-lightbox__close"),i=n.querySelector(".sfcore-lightbox__prev"),d=n.querySelector(".sfcore-lightbox__next"),g=n.querySelector(".sfcore-lightbox__counter");let h=0,u=[];const y=()=>{n.classList.remove("is-open"),document.body.style.overflow=""},f=()=>{const t=u[h];r.src=t.url,r.alt=t.alt,o&&t.caption?(a.textContent=t.caption,a.style.display="block"):a.style.display="none",g.textContent=`${h+1} / ${u.length}`,i.style.display=u.length>1?"flex":"none",d.style.display=u.length>1?"flex":"none"},_=()=>{h=(h+1)%u.length,f()},v=()=>{h=(h-1+u.length)%u.length,f()};e.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();((t,e)=>{h=t,u=e,f(),n.classList.add("is-open"),document.body.style.overflow="hidden",r.focus()})(parseInt(t.dataset.index,10),l)})}),s.forEach(t=>{t.style.cursor="pointer",t.addEventListener("click",e=>{const s=t.closest(".sfcore-swish-gallery__image-wrapper")?.querySelector(".sfcore-swish-gallery__lightbox-trigger");s&&s.click()})}),c.addEventListener("click",y),i.addEventListener("click",v),d.addEventListener("click",_),n.addEventListener("click",t=>{(t.target===n||t.target.classList.contains("sfcore-lightbox__content"))&&y()}),document.addEventListener("keydown",t=>{if(n.classList.contains("is-open"))switch(t.key){case"Escape":y();break;case"ArrowLeft":v();break;case"ArrowRight":_()}})}(t)})});